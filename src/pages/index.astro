---
import { getCollection } from "astro:content";
import About from "../components/About.astro";
import Project from "../components/Project.astro";
import Layout from "../layouts/Layout.astro";

const thoughts = await getCollection("thoughts");
---

<Layout title="Jonathan Foster">
  <About />

  <h2 class="py-4 font-serif text-3xl text-slate-700">Projects</h2>
  <section class="flex gap-4 py-4">
    <Project
      name="crowdq.fm"
      description="Collaborative play queue for Spotify and YouTube."
      logo="/images/crowdq-fm.png"
      backgroundClasses="from-orange-400 to-rose-500"
      url="https://crowdq.fm"
      repoUrl="https://github.com/fostertheweb/crowdq.fm"
    />
  </section>
</Layout>

<h2 class="py-4 font-serif text-3xl text-slate-700">Thoughts</h2>
<section>
  <ul>
    {
      thoughts.map((post) => (
        <li class="flex flex-col gap-1 py-4">
          <a
            href={`/thoughts/${post.slug}`}
            class="text-lg font-semibold text-slate-800 hover:text-sky-800 hover:underline"
          >
            {post.data.title}
          </a>
          <p class="text-slate-700">{post.data.blurb}</p>
          <span class="text-slate-500">
            {post.data.date.toLocaleDateString("en-US", {
              year: "numeric",
              month: "long",
              day: "numeric",
            })}
          </span>
        </li>
      ))
    }
  </ul>
</section>
