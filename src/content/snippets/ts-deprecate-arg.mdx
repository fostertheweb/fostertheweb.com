---
title: Deprecate Function Argument in TypeScript
layout: ../../layouts/PostLayout.astro
blurb: Ugly library code for better DX
---

In [fostertheweb/spotify-web-sdk](https://github.com/fostertheweb/spotify-web-sdk), the method for authorizing the client for non-user actions incorrectly accepted an argument for scopes. Scopes only apply to user authorization for requesting various permissions from a user. To maintain backwards compatibility I added two overloads to give developers a good experience in their editor without breaking their build.

```ts
public static withClientCredentials(
  clientId: string,
  clientSecret: string,
  config?: SdkOptions
): SpotifyApi;

/** @deprecated The scopes array is not used for client authorization. Remove the argument.  */
public static withClientCredentials(
  clientId: string,
  clientSecret: string,
  config: SdkOptions,
  scopes: string[]
): SpotifyApi;

public static withClientCredentials(
  clientId: string,
  clientSecret: string,
  config?: SdkOptions
): SpotifyApi {
  const strategy = new ClientCredentialsStrategy(clientId, clientSecret);
  return new SpotifyApi(strategy, config);
}
```

Now when you add that last argument to the method you will get feedback in your editor. If you don't provide the argument it works as expected.

<img
  src="/images/ts-deprecated.png"
  alt="screenshot of tooltip in vs code showing deprecated method argument"
/>

You can see the above snippet in the [context](https://github.com/fostertheweb/spotify-web-sdk/blob/main/src/SpotifyApi.ts#L200-L221) of the library code.
